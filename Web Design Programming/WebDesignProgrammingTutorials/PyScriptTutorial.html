<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
          crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
            crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-
            JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous">
            </script>

    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>Oliver Witrzens, u3224776</title>
    <link rel="stylesheet" type="text/css" href="css\mystyle.css" />
    <link href="https://fonts.googleapis.com/css?family=Niconne" rel="stylesheet" type="text/css">

</head>
<body>
    <py-config>
        packages = ["matplotlib", "pandas", "seaborn"]
    </py-config>
    <py-script>
        import pandas as pd
        import matplotlib.pyplot as plt
        import seaborn as sns
        from pyodide.http import open_url
        url = open_url('./csv/salaries2023.csv')
        df = pd.read_csv(url)
        display(df.head(n=7), target="output", append=False)

        top_jobs = df.job_title.value_counts()[: 7]
        m = df.shape[0]
        job_distribution = top_jobs*100/m
        job_distribution.plot(kind = 'pie', autopct = '%1.0f%%', figsize = (18, 10))
        plt.title('Job distribution among top 10 in demand job title')
        display(plt, target="piechart", append=False)
    </py-script>
    <div id="output"></div>

    <div id="piechart"></div>
</body>
</html>